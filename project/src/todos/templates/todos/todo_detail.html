{% extends "admin/base.html" %}
{% load static %}
{% load crispy_forms_tags %}
{% block content %}

<div class="box box-primary">
    <div class="box-header with-border">
        <h3 class="box-title">Detail</h3>
    </div>
    <div class="box-body">
        <p><a class="btn btn-default" href="{% url 'todos_todo_list' %}">Todo Listing</a></p>
        <table class="table">
            <tr>
                <td>title</td>
                <td>{{ object.title }}</td>
            </tr>
            <tr>
                <td>slug</td>
                <td>{{ object.slug }}</td>
            </tr>
            <tr>
                <td>created</td>
                <td>{{ object.created }}</td>
            </tr>
            <tr>
                <td>last_updated</td>
                <td>{{ object.last_updated }}</td>
            </tr>
            <tr>
                <td>description</td>
                <td>{{ object.description }}</td>
            </tr>
        </table>

        <form method="post" action="{{ object.get_update_status_url }}">
            <a class="btn btn-primary" href="{{object.get_update_url}}">Edit Todo</a>
            {% csrf_token %}

            {% if object.status == 1 %}
                <input type="hidden" name="status" value="2"/>
                <button class="btn btn-success" href="{{object.get_update_url}}">Set Done</button>
            {% else %}
                <input type="hidden" name="status" value="1"/>
                <button class="btn btn-primary" href="{{object.get_update_url}}">Set Not Done</button>
            {% endif %}
        </form>


    </div>
</div>
{% endblock %}